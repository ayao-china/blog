---
title: 数据仓库架构相关
date: 2022-07-02 11:59:53
categories:
- [数据仓库]
top_img: http://tva1.sinaimg.cn/large/006UraCCly1h3zwbnngdbj32yo1o0u0z.jpg
cover: http://tva1.sinaimg.cn/large/006UraCCly1h3zwbnngdbj32yo1o0u0z.jpg
---
# 数据仓库架构相关
## 前言
   学习数仓必然是绕不开 架构和模型，虽然接触数仓两年了，但这方面的知识在实战依旧运用的很少，这里所总结的就是一些比较通用并且与业务息息相关的理论知识。
为什么需要分层架构，三个充分的理由： 清晰数据结构，方便做数据血缘关系的追踪；减少复杂开发，把复杂的问题简单化；屏蔽原始异常数据（类似脱敏的概念）

## 数仓架构 ods层（数据准备层）,dw层（数据仓库）,dm层（数据服务层）
每个公司业务情况不一，所需要的技术资源不同，会在dw层和dm层做细分，下面以阿里巴巴数据仓库分层架构为例进行说明；
{% asset_img 1656754829173.png 阿里巴巴数据仓库分层架构 %}
### ods 数据准备层： 
来源于爬虫或埋点日志等，为dwd层提供基础原始数据，从业务系统增量抽取，保留时间字段由业务需求决定，可以分表进行周期存储，数据不做清洗转换，与业务系统数据模型保持一直，按主题逻辑划分

### dwd 数据明细层：
为dw/dm层提供来源明细数据，提供业务系统细节数据的长期沉淀，为未来分析类需求的扩展提供历史数据支撑，模型与ods层一致，可按业务维度做分表

### dws 数据汇总层：
脏数据清洗，聚合增加派生事实

### dm层 （datamarket数据集市）：
各类宽表，可满足业务分析组的特定查询，多应用于数据挖掘，尽量减少数据访问时的计算，建议分表存储，优化检索

### ads数据应用层：
面向用户应用和分析需求，包括前端报表，分析图标以及OLAP等，保持数据量小，适用于维度建模，星型模型



